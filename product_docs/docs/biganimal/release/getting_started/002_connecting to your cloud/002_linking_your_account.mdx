---
title: Connecting your cloud
---

After receiving an onboarding email from EDB customer care, you can connect your BigAnimal account to either Azure or AWS. 

### Registering your IdP in BigAnimal

Click the link in the onboarding email to set up the identity provider for your organization. Provide the following information:

- **Domain Name**: SAML Authentication Request Protocol binding used to send the AuthNRequest i.e. HTTP or HTTP POST
- **SAML** or **OIDC**: Authenticaiton protocol used by your identity provider.
- **Issuer URI**: URI string that is uniquely associated with this Identity Provider partner.
- **Signing certificate**: Identity provider's assertion signing certificate (.cer or .cert). Coordinate with your identity provider partner to obtain this certificate in a secure manner.
- **Request Binding**:
- **Response Signature Algorithm (RSA) Algorithm**: Signature algorithm used to sign the SAML AuthNRequest i.e. SHA or SHA-256

Once the form is filled out, BigAnimal provides the SSO URL and Audience URI for the user to add to their SAML IdP. The SAML appears as ‘Inactive’ in the BigAnimal UI, with an Edit and Delete option available.  

### Integrating BigAnimal with your IdP 

You can integrate BigAnimal with your IdP using either the SAML or the OAuth protocol.

#### Method 1: SAML

1. Configure a new app in their SAML IdP. Users need to set up a new app within their IdP for BigAnimal using the SSO URL and Audience URI.

1. Add and verify their domain. The user must add and verify their domain name (i.e. enterprisedb.om) to confirm ownership of the domain. This domain will route all log in requests and ensures that any user logging in with that domain name in their email address will be routed to the correct login page. 

This also means that users can only access multiple BigAnimal Organizations by using different emails with different domains. Users e.g. contractors, who need such access need an email with the correct domain to access each Organization; they will have multiple BigAnimal logins, one for each Organization.  

Users can verify in their domain name:
Uploading a verification key in a DNS txt record to their domain provider
Uploading a verification key in a HTML file 


1. Complete setup in BigAnimal. When users are done filling out the onboarding form and click ‘complete,’ BigAnimal will test whether the information provided is correct. We’ll let users know where they failed if applicable i.e. email, domain verification or IdP form. 

##### Method 2: OAuth

OIDC is a protocol that uses OAuth 2.0 for authentication and authorization. OAuth provides third party applications like BigAnimal limited access to secure resources without compromising the user's data such as logins and passwords. 

The user can select and set up their OIDC during the first-time login flow, from the Security Page, or from the CLI.

1. Configure a new app and create credentials in their OIDC IdP.

1. Input OAuth credentials into BigAnimal. The user then needs to set up a new app within their IdP for BigAnimal and create credentials for BigAnimal to use: client ID and client secret. 

1. Input OAuth credentials into BigAnimal. They then input these OAuth credentials, the client ID and client secret into the BigAnimal UI. We’ll flag to the customer that these credentials can’t be accessed or used by BigAnimal after they are input.

1. Input callback URL in OIDC. After providing the client ID and client secret, the user will receive a callback URL from BigAnimal. They then input this callback URL from BigAnimal to Authorized redirect URI field in the OIDC IdP.

1. Connect within BigAnimal. When users are done filling out the onboarding form and click ‘complete,’ BigAnimal will test whether the information provided is correct. We’ll let users know where they failed if applicable i.e. email, domain verification or IdP form.


### Importing users and assigning roles

The final step in this part of onboarding is to import users from the IdP. We’ll prompt the user to do so from the form.

Importing Users: Assigning Roles + Role Mapping
The final step in setting up the IdP, whether SAML or OIDC, is importing the users which must be done from the IdP. 

Users are invited through the IdP with a default role of ‘reader’ (which will become Organization Member after Projects is released). 
Any user who is added to the group in the IdP will be automatically added into BigAnimal.
Users are notified via the IdP that they’ve been added. 
BigAnimal roles can be managed through the BigAnimal UI 
A user will only be created and show up in the BigAnimal UI once they have logged in. If they have never logged in, they won’t show up in the user list and therefore their BigAnimal role can’t be changed (until they log in).

The first user who is setting the IdP up will have the default role of ‘Account Owner’ in the BigAnimal UI. 
 
After importing users, the Account Owner can set up the Cloud Account themselves or another user can. After completing the IdP setup, the user will be redirected to the portal and can log into BigAnimal immediately. For more on Cloud Account Setup, see here.

In the future, the users in an IdP will be imported automatically into BigAnimal with their BigAnimal roles mapped to their corresponding roles in the IdP. In the future, under the Projects work, we’ll adjust the roles available to a user and how those get assigned. 


### Cloud Account Setup

When you first log into BigAnimal, run a script to set up your cloud account.

1. Open your terminal and copy the script below:
<>

1. Input your cloud provider and account ID or subscription ID. The script sets up the boundary policy, designates the role and access BigAnimal should have to your Cloud Provider, and checks and raises account limits as needed.







