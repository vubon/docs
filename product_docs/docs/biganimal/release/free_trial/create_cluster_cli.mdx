---
title: Creating a cluster on the commmand line
---

Download the CLI:
```shell
curl -L0 "https://cli.biganimal.com/download/$(uname -s)/$(uname -m)/latest/biganimal"
```

Create a credential on BigAnimal. You can pick any username you prefer.
```shell
./biganimal create-credential -a portal.staging.enterprisedb.network -o 443 -n newuser
```

The command will direct you to open a webpage and copy the randomly-generated, one-time code. You’ll need to log in (or already be logged in) to activate the credentials.

To verify what credentials you have verified:

```shell
./biganimal show-credentials
```
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Credentials                                          ┃
┣━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━┫
┃ Name    ┃ Address                             ┃ Port ┃
┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╋━━━━━━┫
┃ newuser ┃ portal.staging.enterprisedb.network ┃ 443  ┃
┗━━━━━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┻━━━━━━┛
```

If you add another credential, you’ll need to add --credential newuser to the following commands. If you only have one, the option is not needed.

Pick the region closest to you from the list provided by biganimal:
```shell
./biganimal show-regions
```
```
Provider ID: Azure
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Regions                           ┃
┣━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┫
┃ Region Id  ┃ Region Name          ┃
┣━━━━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━┫
┃ eastus2    ┃ (US) East US 2       ┃
┃ westeurope ┃ (Europe) West Europe ┃
┗━━━━━━━━━━━━┻━━━━━━━━━━━━━━━━━━━━━━┛
```

Other options can be queried via the CLI, but this is the only variable we need to set for this demo.

Edit a new file called create_cluster.yaml:
```yaml
---
clusterName: test_cluster # Pick a more meaningful name!
password: mygoodpassword  # Please change this password!
postgresType: epas
postgresVersion: "14"
provider: azure
region: eastus2  # Select from the options given by show-regions
instanceType: azure:Standard_E2s_v3
volumeProperties: P1
volumeType: azurepremiumstorage
networking: public
highAvailability: false
---
```

Use the config file to create a new cluster:
```shell
./biganimal create-cluster --clusterConfigFile create_cluster.yaml
```

If successful, the command will give you a command to check the status of your new cluster:
```shell
./biganimal show-clusters --id p-xxxxxxxxxx
```

The id will be used to manage your cluster. It might take a few minutes to create your cluster. When it’s ready, you can get the connection string for your cluster:
```shell
./biganimal show-cluster-connection --id p-xxxxxxxxxxx
```

Once the cluster is created, log in via psql. Use the password from the config file for edb_admin.
```shell
psql 'postgres://edb_admin@p-xxxxxxxxxx.mtstaging.s.edbcloud.io:5432/edb_admin?sslmode=require'
```
